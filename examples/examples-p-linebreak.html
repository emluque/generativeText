<!DOCTYPE HTML>
<html>
<head>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="../generativeText.js"></script>

<link href='http://fonts.googleapis.com/css?family=Arimo|Lobster|Maven-Pro' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="examples.css" media="screen" />

<style type="text/css">

.example-placeholder-text { font-size: 3em;}
.example-placeholder-text span { display: inline-block; height: 70px; overflow: hidden; padding-left: 10px;}
#params { clear: both; padding-top: 4em;} 

#rotate-steps span { float: left;}

</style>

<script type="text/javascript">


hasBeenApplied = false;

var lineBreaks = {
	lastSpace: 0,
	lastTop: 0,
	first: true,
	posFunc: function() {

		//Test for Space
		if( /\s/.test(this.memory[ this.currentStep ].text()) ) {
			this.lastSpace = this.currentStep;
		}
				
		//Test to see if last Top has changed
		if( !this.first && (this.memory[ this.currentStep ].position().top - this.lastTop) > 15 ) {
			//Add clear both 
			if( this.lastSpace == this.currentStep) {
				this.memory[ this.lastSpace].css("clear", "both");
			} else {
				this.memory[ this.lastSpace + 1].css("clear", "both");
			}
		}
		this.lastTop = this.memory[ this.currentStep ].position().top;
		this.first = false;
	}
}

var params = {
	rotate: {
		min: 0,
		max: 90,
		steps: true
		}
};

var opts = {
	pObj: lineBreaks,
	memory: true
};



jQuery( document ).ready(function( $ ) {

	generativeText.applyToElem( jQuery("#rotate-steps-example"), params , opts);

	hasBeenApplied = true;

});

jQuery( window ).resize(function() {
	if(hasBeenApplied) {
		generativeText.applyToElem( jQuery("#rotate-steps-example"), params , opts);
	}
});

</script>

</head>
<body>

	<header>
		<h1>generativeText</h1>
	</header>


<div id="rotate-steps" class="example">
		<h3>Example P Function (Pos function generates line breaks)</h3>

		<div class="example-placeholder">
			<div id="rotate-steps-example" class="example-placeholder-text">In computing, plain text is the contents of an ordinary sequential file readable as textual material without much processing.</div>
		</div>
		<h4 id="params">Params</h4>
		<pre><code>

var lineBreaks = {
	lastSpace: 0,
	lastTop: 0,
	first: true,
	posFunc: function() {

		//Test for Space
		if( /\s/.test(this.memory[ this.currentStep ].text()) ) {
			this.lastSpace = this.currentStep;
		}
				
		//Test to see if last Top has changed
		if( !this.first && (this.memory[ this.currentStep ].position().top - this.lastTop) > 15 ) {
			//Add clear both 
			if( this.lastSpace == this.currentStep) {
				this.memory[ this.lastSpace].css("clear", "both");
			} else {
				this.memory[ this.lastSpace + 1].css("clear", "both");
			}
		}
		this.lastTop = this.memory[ this.currentStep ].position().top;
		this.first = false;
	}
}

var params = {
	rotate: {
		min: 0,
		max: 90,
		steps: true
		}
};

var opts = {
	pObj: lineBreaks,
	memory: true
};



		</code></pre>
</div>


	<footer>
		<p>A <a href="http://significant.com">Significant</a> development.</p>
	</footer>

</body>
</html>