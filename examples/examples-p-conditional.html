<!DOCTYPE HTML>
<html>
<head>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="../generativeText.js"></script>

<link href='http://fonts.googleapis.com/css?family=Arimo|Lobster|Maven-Pro' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="examples.css" media="screen" />

<style type="text/css">

.example-placeholder { border: 1px solid black; padding: 3em;}
.example-placeholder-text { font-size: 3em;}
.example-placeholder-text span { display: inline-block; height: 70px; overflow: hidden;}
.actions { clear: both;} 

#rotate-steps span { float: left;}

</style>

<script type="text/javascript">

jQuery( document ).ready(function( $ ) {

			//rotate + background color list example
	jQuery("#cond1 div.actions a").click( function() {

		var cond1Function = function() {

			function rgbToHex(str) {
				var arr = str.replace("rgb(", "").replace(")", "").split(",");
				for(var i=0; i<3; i++) {
					arr[i] =  parseInt(arr[i]).toString(16);
					if(arr[i].length == 1) arr[i] = "0" + arr[i];
					arr[i] = arr[i].toUpperCase();
				}
				return "#" + arr[0] + arr[1] + arr[2];
			}
			
			var currentBG = rgbToHex(this.memory[ this.currentStep ].style['background-color']);

			switch( currentBG ) {
				case '#FF0000':
				case '#BF3030':
				case '#A60000':
					this.memory[ this.currentStep ].style["color"] = "white";
				break;
				case '#FF4040':
				case '#FF7373':
				default:
					this.memory[ this.currentStep ].style["color"] =  "black";
				break;
			} 

		};

		var params = {
			backgroundColor: {
				type: 'list',
				values: [
					'FF0000',
					'BF3030',
					'A60000',
					'FF4040',
					'FF7373',
				]
			},
		};

		var opts = {
			applyTo: 'words',
			textSpaces: 'even',
			memory: true,
			pObj: { posFunc: cond1Function }
		}
		generativeText.applyToElementById( "cond1-example", params, opts );
	});


});


</script>

</head>
<body>

	<header>
		<h1>generativeText</h1>
	</header>


<div id="cond1" class="example">
		<h3>Example P Function (Pos Function chooses color based on background color)</h3>

		<div class="example-placeholder">
			<div id="cond1-example" class="example-placeholder-text">In computing, plain text is the contents of an ordinary sequential file readable as textual material without much processing.</div>
			<div class="actions">
				<a href="javascript:;">Apply</a>
			</div>
		</div>

		<h4>Params</h4>
		<pre><code>

		var cond1Function = function() {

			function rgbToHex(str) {
				var arr = str.replace("rgb(", "").replace(")", "").split(",");
				for(var i=0; i<3; i++) {
					arr[i] =  parseInt(arr[i]).toString(16);
					if(arr[i].length == 1) arr[i] = "0" + arr[i];
					arr[i] = arr[i].toUpperCase();
				}
				return "#" + arr[0] + arr[1] + arr[2];
			}
			
			var currentBG = rgbToHex(this.memory[ this.currentStep ].css('background-color'));

			switch( currentBG ) {
				case '#FF0000':
				case '#BF3030':
				case '#A60000':
					this.memory[ this.currentStep ].css("color", "white");
				break;
				case '#FF4040':
				case '#FF7373':
				default:
					this.memory[ this.currentStep ].css("color", "black");
				break;
			} 

		};

		var params = {
			backgroundColor: {
				type: 'list',
				values: [
					'FF0000',
					'BF3030',
					'A60000',
					'FF4040',
					'FF7373',
				]
			},
		};

		var opts = {
			applyTo: 'words',
			textSpaces: 'even',
			memory: true,
			pObj: { posFunc: cond1Function }
		}


		</code></pre>
</div>

	<footer>
		<p>A <a href="http://significant.com">Significant</a> development.</p>
	</footer>
</body>
</html>